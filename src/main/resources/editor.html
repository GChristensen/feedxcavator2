<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<meta content="text/html; charset=UTF-8" http-equiv="content-type">

		<link id="feed-link" rel="alternate" title="" type="application/rss+xml" href=""/>		

		<link rel="stylesheet" type="text/css" href="css/goog/common.css"/>
		<link rel="stylesheet" type="text/css" href="css/goog/tooltip.css"/>
		<link rel="stylesheet" type="text/css" href="css/goog/flatbutton.css"/>

		<link rel="stylesheet" type="text/css" href="css/base.css"/>
		<link rel="stylesheet" type="text/css" href="css/editor.css"/>
		<script type="text/javascript" src="js/main.js"></script>
		<script type="text/javascript">
			goog.require('feedxcavator.editor');
		</script>
		
		<!--script id="recaptcha-script" type="text/javascript" src="http://www.google.com/recaptcha/api/js/recaptcha_ajax.js"></script-->
		
		<title>Feed Editor</title>
	</head>
	<body>
		<table id="logo" border="0" cellpadding="0" cellspacing="0">
			<tr>
				<td><img src="images/logo.png"></td>
				<td class="strip">&nbsp;</td>
			</tr>
		</table>
		<div id="description">
			<p><a href="https://github.com/GChristensen/feedxcavator#readme">Feedxcavator</a> is a HTML to RSS conversion 
				application written entirely in <a href="http://clojure.org">Clojure</a> and 
				<a href="https://github.com/clojure/clojurescript">ClojureScript</a>. It uses a limited set of 
				<a href="http://www.w3.org/TR/css3-selectors/">CSS selectors</a> to extract content from HTML pages	
				and convert them to RSS feeds (more technical details on <a href="https://github.com/GChristensen/feedxcavator#readme">github</a>). 
				You may find it useful if a web page does not provide RSS and you are able to analyze the source code of that page 
				to write selectors for the data you interested in (<a href="http://getfirebug.com">Firebug</a> or your browser development 
				extensions may greatly aid on this, although they not always map page source precisely).</p>
			<p id="public-warning">You may use, share or edit your feeds with the links provided by the application after the feed creation. 
				Feed manager is available only on private deployments.</p>
		</div>
		<div id="form-wrapper">
			<div id="selectors">
				<form id="selectors-form">
					<fieldset id="setting-fields">
						<legend>
							Feed Selectors
						</legend>
						<table border="0" cellpadding="0" cellspacing="0">
							<tr>
								<td class="label"><label id="article-lbl">Headline<sup>?</sup> <!--span class="mandatory">*</span--></label></td>
							</tr>
							<tr>
								<td><textarea rows="2" name="headline"></textarea></td>
							</tr>
							<tr>
								<td class="label"><label id="title-lbl">Title<sup>?</sup> <!--span class="mandatory">*</span--></label></td>
							</tr>
							<tr>
								<td><textarea rows="2" name="title"></textarea></td>
							</tr>
							<tr>
								<td class="label"><label id="link-lbl">Link<sup>?</sup> <!--span class="mandatory">*</span--></label></td>
							</tr>
							<tr>
								<td><textarea rows="2" name="link"></textarea></td>
							</tr>
							<tr>
								<td class="label"><label id="summary-lbl">Summary<sup>?</sup></label></td>
							</tr>
							<tr>
								<td><textarea rows="2" name="summary"></textarea></td>
							</tr>
							<tr>
								<td class="label"><label id="image-lbl">Image<sup>?</sup></label></td>
							</tr>
							<tr>
								<td><textarea rows="2" name="image"></textarea></td>
							</tr>
						</table>
					</fieldset>
				</form>
			</div>
			<div id="center-left">
				<div id="settings">
					<form id="settings-form">
						<input name="uuid" type="hidden"/>
						<fieldset id="setting-fields">
							<legend>
								Feed Settings
							</legend>
							<table  border="0" cellpadding="0" cellspacing="0">
								<tr>
									<td colspan="2" class="label"><label>Feed title <span class="mandatory">*</span></label></td>
								</tr>
								<tr>
									<td colspan="2"><input name="feed-title" type="text"/></td>
								</tr>
								<tr>
									<td colspan="2" class="label"><label>Target URL <!--span class="mandatory">*</span--></label></td>
								</tr>
								<tr>
									<td colspan="2"><input name="target-url" type="text"/></td>
								</tr>
								<tr>
									<td colspan="2" class="label"><label id="encoding-lbl">Source encoding<sup>?</sup></label></td>
								</tr>
								<tr>
									<td colspan="2"><input name="charset" type="text"/></td>
								</tr>
								<tr id="custom-excavator-label">
									<td colspan="2" class="label"><label id="excavator-lbl">Custom excavator<sup>?</sup></label></td>
								</tr>
								<tr id="custom-excavator">
									<td colspan="2"><input name="custom-excavator" type="text"/></td>
								</tr>
								<tr id="custom-params-label">
									<td colspan="2" class="label"><label id="parameters-lbl">Custom excavator parameters<sup>?</sup></label></td>
								</tr>
								<tr id="custom-params">
									<td colspan="2"><input name="custom-params" type="text"/></td>
								</tr>
								<tr>
									<td colspan="2" class="label">
										<input type="checkbox" name="remember-recent"></input>&nbsp;<label id="recent-article-lbl">Remember recent article<sup>?</sup></label>
									</td>
								</tr>
       							<tr>
									<td colspan="2" class="label">
										<input type="checkbox" name="realtime"></input>&nbsp;<label id="realtime-lbl">Real time</label>
									</td>
								</tr>

								<tr id="recaptcha-label">
									<td colspan="2" class="label" id="recaptcha-td"><label id="recaptcha-lbl">Confirmation<sup>?</sup></label></td>
								</tr>
								<tr id="recaptcha">
									<td colspan="2" align="center"><div id="confirmation"/></td>
								</tr>
							</table>
							<div id="button-space"></div>
							<div id="control-buttons">
								<table  border="0" cellpadding="0" cellspacing="0">
									<tr>
										<td class="main-buttons"><div id="test" class="goog-flat-button">Test</div></td>
										<td class="main-buttons"><div id="save" class="right goog-flat-button">Create feed</div></td>
									</tr>
								</table>
							</div>							
						</fieldset>
					</form>
				</div>
				<div id="service-links">
					<p id="create-new-link" class="editor-link"><a class="decorated-link" href="/create">Create New Feed</a></p>
					<p id="manage-link" class="editor-link"><a class="decorated-link" href="/manage">Manage Feeds</a></p>
                    <p id="custom-link" class="editor-link"><a class="decorated-link" href="/custom">Custom Extractors</a></p>
					<p id="admin-link" class="editor-link"><a class="decorated-link" href="/admin">Tools</a></p>
				</div>
			</div>
			<div class="clear"></div>
		</div>
		<div id="loading"></div>
		<div id="output"></div>
		<script type="text/javascript">
			feedxcavator.editor.main();
					
			/*if (document.getElementById("confirmation"))
			{
				Recaptcha.create("... ", "confirmation",
				{
					theme: "red",
					callback: function () 
					{
						var response_field = document.getElementById("recaptcha_response_field");
						response_field.addEventListener("keypress", 
														function (e)
														{
															if (e && e.which == 13)
																feedxcavator.editor.get_link_btn_handler(e);
														});
					}
				});
			}*/
		</script>
	</body>
</html>
